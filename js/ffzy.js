/**
 * å½±è§†TV è¶…é€£çµè·³è½‰æ”¯æŒ
 * https://t.me/fongmi_offical/
 * https://github.com/FongMi/Release/tree/main/apk
 */

var rule = {
	title:'éå‡¡å½±è§†',
	host: 'http://www.dy1234.net',
	url:'/search.php?page=fypage&searchtype=5&tid=fyfilter',
        searchUrl:'/search.php?page=fypage&searchword=**&searchtype=',
        searchable: 2,//æ˜¯å¦å¯ç”¨å…¨å±€æœç´¢,
        quickSearch: 0,//æ˜¯å¦å¯ç”¨å¿«é€Ÿæœç´¢,
        filterable: 1,//æ˜¯å¦å¯ç”¨åˆ†ç±»ç­›é€‰,
        filter_url:'{{fl.cateId}}&order={{fl.by}}&area={{fl.area}}&jq={{fl.class}}&yuyan={{fl.lang}}&year={{fl.year}}',
        filter: {
            	"1":[{"key":"cateId","name":"ç±»å‹","value":[{"n":"å…¨éƒ¨","v":"1"},{"n":"åŠ¨ä½œç‰‡","v":"5"},{"n":"çˆ±æƒ…ç‰‡","v":"6"},{"n":"ç§‘å¹»ç‰‡","v":"7"},{"n":"ææ€–ç‰‡","v":"8"},{"n":"æˆ˜äº‰ç‰‡","v":"9"},{"n":"å–œå‰§ç‰‡","v":"10"},{"n":"è®°å½•ç‰‡","v":"11"},{"n":"å‰§æƒ…ç‰‡","v":"12"},{"n":"ğŸ”ä¼¦ç†ç‰‡","v":"25"}]},
            		{"key":"area","name":"åœ°åŒº","value":[{"n":"å…¨éƒ¨","v":""},{"n":"å¤§é™†","v":"å¤§é™†"},{"n":"é¦™æ¸¯","v":"é¦™æ¸¯"},{"n":"å°æ¹¾","v":"å°æ¹¾"},{"n":"æ—¥æœ¬","v":"æ—¥æœ¬"},{"n":"éŸ©å›½","v":"éŸ©å›½"},{"n":"æ¬§ç¾","v":"æ¬§ç¾"},{"n":"ç¾å›½","v":"ç¾å›½"},{"n":"è‹±å›½","v":"è‹±å›½"},{"n":"æ³•å›½","v":"æ³•å›½"},{"n":"å¾·å›½","v":"å¾·å›½"},{"n":"ä¿„ç½—æ–¯","v":"ä¿„ç½—æ–¯"},{"n":"æ³°å›½","v":"æ³°å›½"},{"n":"è¶Šå—","v":"è¶Šå—"},{"n":"å°åº¦","v":"å°åº¦"},{"n":"æ„å¤§åˆ©","v":"æ„å¤§åˆ©"},{"n":"è¥¿ç­ç‰™","v":"è¥¿ç­ç‰™"},{"n":"åŠ æ‹¿å¤§","v":"åŠ æ‹¿å¤§"},{"n":"æ–°åŠ å¡","v":"æ–°åŠ å¡"},{"n":"é©¬æ¥è¥¿äºš","v":"é©¬æ¥è¥¿äºš"},{"n":"å…¶ä»–","v":"å…¶ä»–"}]},
            	        {"key":"lang","name":"è¯­è¨€","value":[{"n":"å…¨éƒ¨","v":""},{"n":"å›½è¯­","v":"å›½è¯­"},{"n":"è‹±è¯­","v":"è‹±è¯­"},{"n":"ç²¤è¯­","v":"ç²¤è¯­"},{"n":"éŸ©è¯­","v":"éŸ©è¯­"},{"n":"æ—¥è¯­","v":"æ—¥è¯­"},{"n":"æ³•è¯­","v":"æ³•è¯­"},{"n":"å¾·è¯­","v":"å¾·è¯­"},{"n":"å…¶å®ƒ","v":"å…¶å®ƒ"}]},
            	        {"key":"year","name":"æ—¶é—´","value":[{"n":"å…¨éƒ¨","v":""},{"n":"2024","v":"2024"},{"n":"2023","v":"2023"},{"n":"2022","v":"2022"},{"n":"2021","v":"2021"},{"n":"2020","v":"2020"},{"n":"2019","v":"2019"},{"n":"2018","v":"2018"},{"n":"2017","v":"2017"},{"n":"2016","v":"2016"},{"n":"2015","v":"2015"},{"n":"2014","v":"2014"},{"n":"2013","v":"2013"},{"n":"2012","v":"2012"},{"n":"2011","v":"2011"},{"n":"2010","v":"2010"},{"n":"2009","v":"2009"},{"n":"2008","v":"2008"},{"n":"2007","v":"2007"},{"n":"2006","v":"2006"},{"n":"2005","v":"2005"},{"n":"2004","v":"2004"},{"n":"2003","v":"2003"},{"n":"2002","v":"2002"},{"n":"2001","v":"2001"},{"n":"2000","v":"2000"},{"n":"æ›´æ—©","v":"more"}]},
            		{"key":"by","name":"æ’åº","value":[{"n":"æ—¶é—´æ’åº","v":"time"},{"n":"äººæ°”æ’åº","v":"hits"},{"n":"è¯„åˆ†æ’åº","v":"commend"}]}],
            	"2":[{"key":"cateId","name":"ç±»å‹","value":[{"n":"å…¨éƒ¨","v":"2"},{"n":"å›½äº§å‰§","v":"13"},{"n":"é¦™æ¸¯å‰§","v":"14"},{"n":"å°æ¹¾å‰§","v":"15"},{"n":"éŸ©å›½å‰§","v":"16"},{"n":"æ—¥æœ¬å‰§","v":"26"},{"n":"æ¬§ç¾å‰§","v":"27"},{"n":"æµ·å¤–å‰§","v":"28"},{"n":"æ³°å›½å‰§","v":"38"}]},
            		{"key":"area","name":"åœ°åŒº","value":[{"n":"å…¨éƒ¨","v":""},{"n":"å¤§é™†","v":"å¤§é™†"},{"n":"é¦™æ¸¯","v":"é¦™æ¸¯"},{"n":"å°æ¹¾","v":"å°æ¹¾"},{"n":"æ—¥æœ¬","v":"æ—¥æœ¬"},{"n":"éŸ©å›½","v":"éŸ©å›½"},{"n":"æ¬§ç¾","v":"æ¬§ç¾"},{"n":"ç¾å›½","v":"ç¾å›½"},{"n":"è‹±å›½","v":"è‹±å›½"},{"n":"æ³•å›½","v":"æ³•å›½"},{"n":"å¾·å›½","v":"å¾·å›½"},{"n":"ä¿„ç½—æ–¯","v":"ä¿„ç½—æ–¯"},{"n":"æ³°å›½","v":"æ³°å›½"},{"n":"è¶Šå—","v":"è¶Šå—"},{"n":"å°åº¦","v":"å°åº¦"},{"n":"æ„å¤§åˆ©","v":"æ„å¤§åˆ©"},{"n":"è¥¿ç­ç‰™","v":"è¥¿ç­ç‰™"},{"n":"åŠ æ‹¿å¤§","v":"åŠ æ‹¿å¤§"},{"n":"æ–°åŠ å¡","v":"æ–°åŠ å¡"},{"n":"é©¬æ¥è¥¿äºš","v":"é©¬æ¥è¥¿äºš"},{"n":"å…¶ä»–","v":"å…¶ä»–"}]},
            	        {"key":"lang","name":"è¯­è¨€","value":[{"n":"å…¨éƒ¨","v":""},{"n":"å›½è¯­","v":"å›½è¯­"},{"n":"è‹±è¯­","v":"è‹±è¯­"},{"n":"ç²¤è¯­","v":"ç²¤è¯­"},{"n":"éŸ©è¯­","v":"éŸ©è¯­"},{"n":"æ—¥è¯­","v":"æ—¥è¯­"},{"n":"æ³•è¯­","v":"æ³•è¯­"},{"n":"å¾·è¯­","v":"å¾·è¯­"},{"n":"å…¶å®ƒ","v":"å…¶å®ƒ"}]},
            	        {"key":"year","name":"æ—¶é—´","value":[{"n":"å…¨éƒ¨","v":""},{"n":"2024","v":"2024"},{"n":"2023","v":"2023"},{"n":"2022","v":"2022"},{"n":"2021","v":"2021"},{"n":"2020","v":"2020"},{"n":"2019","v":"2019"},{"n":"2018","v":"2018"},{"n":"2017","v":"2017"},{"n":"2016","v":"2016"},{"n":"2015","v":"2015"},{"n":"2014","v":"2014"},{"n":"2013","v":"2013"},{"n":"2012","v":"2012"},{"n":"2011","v":"2011"},{"n":"2010","v":"2010"},{"n":"2009","v":"2009"},{"n":"2008","v":"2008"},{"n":"2007","v":"2007"},{"n":"2006","v":"2006"},{"n":"2005","v":"2005"},{"n":"2004","v":"2004"},{"n":"2003","v":"2003"},{"n":"2002","v":"2002"},{"n":"2001","v":"2001"},{"n":"2000","v":"2000"},{"n":"æ›´æ—©","v":"more"}]},
            		{"key":"by","name":"æ’åº","value":[{"n":"æ—¶é—´æ’åº","v":"time"},{"n":"äººæ°”æ’åº","v":"hits"},{"n":"è¯„åˆ†æ’åº","v":"commend"}]}],
            	"3":[{"key":"cateId","name":"ç±»å‹","value":[{"n":"å…¨éƒ¨","v":"2"},{"n":"å›½äº§åŠ¨æ¼«","v":"29"},{"n":"æ—¥éŸ©åŠ¨æ¼«","v":"30"},{"n":"æ¸¯å°åŠ¨æ¼«","v":"31"},{"n":"æ¬§ç¾åŠ¨æ¼«","v":"32"},{"n":"æµ·å¤–åŠ¨æ¼«","v":"33"}]},
            		{"key":"area","name":"åœ°åŒº","value":[{"n":"å…¨éƒ¨","v":""},{"n":"å¤§é™†","v":"å¤§é™†"},{"n":"é¦™æ¸¯","v":"é¦™æ¸¯"},{"n":"å°æ¹¾","v":"å°æ¹¾"},{"n":"æ—¥æœ¬","v":"æ—¥æœ¬"},{"n":"éŸ©å›½","v":"éŸ©å›½"},{"n":"æ¬§ç¾","v":"æ¬§ç¾"},{"n":"ç¾å›½","v":"ç¾å›½"},{"n":"è‹±å›½","v":"è‹±å›½"},{"n":"æ³•å›½","v":"æ³•å›½"},{"n":"å¾·å›½","v":"å¾·å›½"},{"n":"ä¿„ç½—æ–¯","v":"ä¿„ç½—æ–¯"},{"n":"æ³°å›½","v":"æ³°å›½"},{"n":"è¶Šå—","v":"è¶Šå—"},{"n":"å°åº¦","v":"å°åº¦"},{"n":"æ„å¤§åˆ©","v":"æ„å¤§åˆ©"},{"n":"è¥¿ç­ç‰™","v":"è¥¿ç­ç‰™"},{"n":"åŠ æ‹¿å¤§","v":"åŠ æ‹¿å¤§"},{"n":"æ–°åŠ å¡","v":"æ–°åŠ å¡"},{"n":"é©¬æ¥è¥¿äºš","v":"é©¬æ¥è¥¿äºš"},{"n":"å…¶ä»–","v":"å…¶ä»–"}]},
            	        {"key":"lang","name":"è¯­è¨€","value":[{"n":"å…¨éƒ¨","v":""},{"n":"å›½è¯­","v":"å›½è¯­"},{"n":"è‹±è¯­","v":"è‹±è¯­"},{"n":"ç²¤è¯­","v":"ç²¤è¯­"},{"n":"éŸ©è¯­","v":"éŸ©è¯­"},{"n":"æ—¥è¯­","v":"æ—¥è¯­"},{"n":"æ³•è¯­","v":"æ³•è¯­"},{"n":"å¾·è¯­","v":"å¾·è¯­"},{"n":"å…¶å®ƒ","v":"å…¶å®ƒ"}]},
            	        {"key":"year","name":"æ—¶é—´","value":[{"n":"å…¨éƒ¨","v":""},{"n":"2024","v":"2024"},{"n":"2023","v":"2023"},{"n":"2022","v":"2022"},{"n":"2021","v":"2021"},{"n":"2020","v":"2020"},{"n":"2019","v":"2019"},{"n":"2018","v":"2018"},{"n":"2017","v":"2017"},{"n":"2016","v":"2016"},{"n":"2015","v":"2015"},{"n":"2014","v":"2014"},{"n":"2013","v":"2013"},{"n":"2012","v":"2012"},{"n":"2011","v":"2011"},{"n":"2010","v":"2010"},{"n":"2009","v":"2009"},{"n":"2008","v":"2008"},{"n":"2007","v":"2007"},{"n":"2006","v":"2006"},{"n":"2005","v":"2005"},{"n":"2004","v":"2004"},{"n":"2003","v":"2003"},{"n":"2002","v":"2002"},{"n":"2001","v":"2001"},{"n":"2000","v":"2000"},{"n":"æ›´æ—©","v":"more"}]},
            		{"key":"by","name":"æ’åº","value":[{"n":"æ—¶é—´æ’åº","v":"time"},{"n":"äººæ°”æ’åº","v":"hits"},{"n":"è¯„åˆ†æ’åº","v":"commend"}]}],
            	"4":[{"key":"cateId","name":"ç±»å‹","value":[{"n":"å…¨éƒ¨","v":"2"},{"n":"å›½äº§ç»¼è‰º","v":"34"},{"n":"æ—¥éŸ©ç»¼è‰º","v":"35"},{"n":"æ¸¯å°ç»¼è‰º","v":"36"},{"n":"æ¬§ç¾ç»¼è‰º","v":"37"}]},
            		{"key":"area","name":"åœ°åŒº","value":[{"n":"å…¨éƒ¨","v":""},{"n":"å¤§é™†","v":"å¤§é™†"},{"n":"é¦™æ¸¯","v":"é¦™æ¸¯"},{"n":"å°æ¹¾","v":"å°æ¹¾"},{"n":"æ—¥æœ¬","v":"æ—¥æœ¬"},{"n":"éŸ©å›½","v":"éŸ©å›½"},{"n":"æ¬§ç¾","v":"æ¬§ç¾"},{"n":"ç¾å›½","v":"ç¾å›½"},{"n":"è‹±å›½","v":"è‹±å›½"},{"n":"æ³•å›½","v":"æ³•å›½"},{"n":"å¾·å›½","v":"å¾·å›½"},{"n":"ä¿„ç½—æ–¯","v":"ä¿„ç½—æ–¯"},{"n":"æ³°å›½","v":"æ³°å›½"},{"n":"è¶Šå—","v":"è¶Šå—"},{"n":"å°åº¦","v":"å°åº¦"},{"n":"æ„å¤§åˆ©","v":"æ„å¤§åˆ©"},{"n":"è¥¿ç­ç‰™","v":"è¥¿ç­ç‰™"},{"n":"åŠ æ‹¿å¤§","v":"åŠ æ‹¿å¤§"},{"n":"æ–°åŠ å¡","v":"æ–°åŠ å¡"},{"n":"é©¬æ¥è¥¿äºš","v":"é©¬æ¥è¥¿äºš"},{"n":"å…¶ä»–","v":"å…¶ä»–"}]},
            	        {"key":"lang","name":"è¯­è¨€","value":[{"n":"å…¨éƒ¨","v":""},{"n":"å›½è¯­","v":"å›½è¯­"},{"n":"è‹±è¯­","v":"è‹±è¯­"},{"n":"ç²¤è¯­","v":"ç²¤è¯­"},{"n":"éŸ©è¯­","v":"éŸ©è¯­"},{"n":"æ—¥è¯­","v":"æ—¥è¯­"},{"n":"æ³•è¯­","v":"æ³•è¯­"},{"n":"å¾·è¯­","v":"å¾·è¯­"},{"n":"å…¶å®ƒ","v":"å…¶å®ƒ"}]},
            	        {"key":"year","name":"æ—¶é—´","value":[{"n":"å…¨éƒ¨","v":""},{"n":"2024","v":"2024"},{"n":"2023","v":"2023"},{"n":"2022","v":"2022"},{"n":"2021","v":"2021"},{"n":"2020","v":"2020"},{"n":"2019","v":"2019"},{"n":"2018","v":"2018"},{"n":"2017","v":"2017"},{"n":"2016","v":"2016"},{"n":"2015","v":"2015"},{"n":"2014","v":"2014"},{"n":"2013","v":"2013"},{"n":"2012","v":"2012"},{"n":"2011","v":"2011"},{"n":"2010","v":"2010"},{"n":"2009","v":"2009"},{"n":"2008","v":"2008"},{"n":"2007","v":"2007"},{"n":"2006","v":"2006"},{"n":"2005","v":"2005"},{"n":"2004","v":"2004"},{"n":"2003","v":"2003"},{"n":"2002","v":"2002"},{"n":"2001","v":"2001"},{"n":"2000","v":"2000"},{"n":"æ›´æ—©","v":"more"}]},
            		{"key":"by","name":"æ’åº","value":[{"n":"æ—¶é—´æ’åº","v":"time"},{"n":"äººæ°”æ’åº","v":"hits"},{"n":"è¯„åˆ†æ’åº","v":"commend"}]}]
	 },
	filter_def:{1:{cateId:'1'},2:{cateId:'2'},3:{cateId:'3'},4:{cateId:'4'}},
        class_name: 'ç”µå½±&ç”µè§†å‰§&åŠ¨æ¼«&ç»¼è‰º',
        class_url: '1&2&3&4',
	//class_parse:'.nav-list li;a&&Text;a&&href;.*/(.*?).html',
	play_parse: true,
	lazy:`js:
		let html = JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1]);
		let url = html.url;
		if (html.encrypt == '1') {
			url = unescape(url)
		} else if (html.encrypt == '2') {
			url = unescape(base64Decode(url))
		}
		if (/m3u8|mp4/.test(url)) {
			input = {jx:0, url:url, parse:0}
		} else {
			input
		}
	`,
	limit: 6,
	æ¨è:`js:
		pdfh = jsp.pdfh, pdfa = jsp.pdfa, pd = jsp.pd;
		let d = [];
		let html = request(input);
		let list = pdfa(html, ".module-list .module-items .module-item");
		list.forEach(it => {
			d.push({
				title: pdfh(it, "a&&title"),
				desc: pdfh(it, ".module-item-caption&&Text"),
				pic_url: pd(it, ".module-item-pic&&img&&data-src"),
				url: pd(it, "a&&href")
			})
		});
		setResult(d)
	`,
	ä¸€çº§:`js:
		pdfh = jsp.pdfh, pdfa = jsp.pdfa, pd = jsp.pd;
		let d = [];
		let html = '';
		let list = {};
		if (cateObj.tid.endsWith('_clicklink')) {
			let tid = cateObj.tid.split('_')[0];
			input = HOST + '/search.php?page=' + MY_PAGE + '&searchword=' + tid + '&searchtype=';
			html = request(input);
			list = pdfa(html, ".module-list .module-items&&.module-search-item");
			list.forEach(it => {
			d.push({
				title: pdfh(it, "a:eq(1)&&title"),
				desc: pdfh(it, ".tag-link:eq(0)&&Text") + '/' + pdfh(it, ".tag-link:eq(2)--span&&Text"),
				pic_url: pd(it, ".module-item-pic&&img&&data-src"),
				url: pd(it, "a:eq(1)&&href")
			})
		});
		} else {
			html = request(input);
			list = pdfa(html, ".module-items .module-item");
		
		list.forEach(it => {
			d.push({
				title: pdfh(it, "a&&title"),
				desc: pdfh(it, ".module-item-caption&&Text"),
				pic_url: pd(it, ".module-item-pic&&img&&data-src"),
				url: pd(it, "a&&href")
			})
		})};
		setResult(d)
	`,
	äºŒçº§:`js:
		pdfh = jsp.pdfh, pdfa = jsp.pdfa, pd = jsp.pd;
		function getLink(data) {
			let link = data.map(it => {
				return '[a=cr:' + JSON.stringify({'id':it+'_clicklink','name':it}) + '/]' + it + '[/a]'
			}).join('/');
			return link
		}
		try {
			let html = request(input);
			let vod_actor = pdfh(html, ".video-info-actor:eq(1)--span&&Text").split(' ');
				log('vod_actor ===> ' + vod_actor);
			let vod_director = pdfh(html, ".video-info-actor:eq(0)--span&&Text").split(' ');
				log('vod_director ===> ' + vod_director);
			VOD = {
				vod_name: pdfh(html, "h1&&Text"),
				type_name: pdfh(html, ".tag-link:eq(0)&&Text"),
				vod_year: pdfh(html, ".tag-link:eq(1)&&Text"),
                               vod_area: pdfh(html, ".tag-link:eq(2)&&Text"),
				vod_pic: pd(html, ".module-item-pic&&img&&data-src"),
				vod_remarks: pdfh(html, ".video-info-items:eq(2)&&Text"),
				vod_actor: getLink(vod_actor), // å½±è§†TV click lick
				//vod_director: pdfh(html, ".video-info-actor:eq(0)&&Text"),
				vod_director: getLink(vod_director), // å½±è§†TV click lick
				vod_content: pdfh(html, ".video-info-content&&Text")
			};
			let playFrom = [];
			let vod_tab_list = [];
			let tabs = pdfa(html, ".module-tab-item");
			tabs.forEach((it) => {
				playFrom.push(pdfh(it, ".module-tab-item.tab-item&&Text"))
			});
			for (let i = 0; i < playFrom.length; i++) {
				let p1 = ".module-player-list:eq(#id)&&.scroll-content a".replaceAll("#id", i);
				let new_vod_list = [];
				let vodList = [];
				try {
					vodList = pdfa(html, p1)
				} catch (e) {}
				for (let i = 0; i < vodList.length; i++) {
					let it = vodList[i];
					new_vod_list.push(pdfh(it, "a&&Text").trim() + "$" + pd(it, "a&&href"))
				}
				let vlist = new_vod_list.join("#");
				vod_tab_list.push(vlist)
			}
			VOD.vod_play_from = playFrom.join("$$$");
			VOD.vod_play_url = vod_tab_list.join("$$$");
        } catch (e) {
            log("è·å–äºŒçº§è¯¦æƒ…é¡µå‘ç”Ÿé”™è¯¯:" + e.message);
        }
	`,
	æœç´¢:`js:
		pdfh = jsp.pdfh, pdfa = jsp.pdfa, pd = jsp.pd;
		let d = [];
		let html = request(input);
		let list = pdfa(html, ".module-items .module-search-item");
		list.forEach(it => {
			d.push({
				title: pdfh(it, "a:eq(1)&&title"),
				desc: pdfh(it, ".tag-link:eq(0)&&Text") + '/' + pdfh(it, ".tag-link:eq(2)--span&&Text"),
				pic_url: pd(it, ".module-item-pic&&img&&data-src"),
				url: pd(it, "a:eq(1)&&href")
			})
		});
		setResult(d)
	`,
}